### 기술 구현 가능성 확인
<br>


- **합주의 real-time 초저지연 기술**
    - 악보가 자동으로 넘어가는 화면, 줄이나 마디 단위로 표시하는 것을 모두 동시에 볼 수 있어야 함
    
    - MusicXML이라면  → 바로 쓸 수 있음
    - pdf라면 → MusicXML로 변환 후 pageMap.json 생성 필요. pageMap.json은 음악적 위치를 pdf의 페이지 번호와 매핑하는 역할
    - 아래 방법은 서버 부하 없이 단말에서만 동작하는 방식
    1. P2P 연결 & 시계 동기화
        - **시그널링**(WebSocket 등)으로 ICE 후보 교환 → RTCPeerConnection ⇄ DataChannel 수립
        - **4‑way ping**으로 `offset = serverTime – (clientNow + RTT/2)` 계산
    2. 악보 캐싱
    3. 오디오 캡쳐 API를 이용해 PCM 버퍼 획득
        - PCM이란 마이크를 통해 아날로그 신호를 디지털화한 값. 실시간으로 오디오 데이터를 처리할 수 있음
        - Android(Java): `AudioRecord`, Android(C++): `Oboe`
    4. 비트, 마디를 검출해 마디 끝 시점 예측
        - DSP 라이브러리(Aubio, Essentia, librosa 포팅 등)를 이용해 Onset 검출 + 템포 추정으로 예측
    5. Tick 결정
        - Tick은 “음악적 절대 좌표”(마디·박자 단위)
        - 예측된 샘플 인덱스 → `tick = floor(sampleIndex / 샘플_per_tick)` 계산
    6. 풀 메쉬 P2P로 악보 넘기는 이벤트 전파
        - P2P DataChannel : WebRTC 프로토콜의 일부 API
    
    - https://developer.android.com/games/sdk/oboe/low-latency-audio?hl=ko
