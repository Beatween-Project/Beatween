# 기획 확정 및 메인 기능 구현 가능성 조사

밴드부 활동 경험을 바탕으로, 합주 과정에서 느꼈던 불편 사항들을 정리하고 이를 개선할 수 있는 기능에 대해 고민해보았습니다.

1. 곡을 선정한 후 악보를 구하는 과정이 번거로웠습니다. 특히 TV 밴드 경연 프로그램에서 편곡된 곡들이나 비인기 곡의 경우, 시중에서 악보를 구하기 어려워 연주를 포기하거나 다른 곡으로 대체하게 되는 일도 있었습니다.  
2. 악보를 보며 연주하는 단계일 때, 연주 중에 직접 악보를 넘겨야 하는 점이 불편했습니다.  
3. 특정 구간을 연습하고자 할 때, 각 세션이 생각하는 시작 지점이 달라 조율이 필요한 경우도 있었습니다.

이러한 점들을 해결하기 위해, 세션별 악보를 자동으로 생성한 뒤, 합주 시 각 세션의 악보가 동시에 연동되어 넘어가고, 현재 연주 중인 구간이 악보 위에 실시간으로 표시되는 기능을 중심으로 서비스를 기획했습니다.

그리고 기능 구현의 현실성을 확인하기 위해 각 단계별로 필요한 기술과 오픈소스 조사를 진행했습니다.

## 기능 구성 흐름

| 단계 | 입력 | 처리 (도구/기술) | 출력 | 오픈소스 링크 |
|------|------|-------------------|-------|----------------|
| 1. 오디오 추출 | YouTube 링크 | `yt-dlp` - 영상에서 오디오 추출 | `input.wav` 또는 `input.mp3` | [yt-dlp](https://github.com/yt-dlp/yt-dlp) |
| 2. 세션 분리 | `input.wav` | `Demucs` - stem 분리 (보컬, 드럼 등) | `vocals.wav`, `drums.wav`, `bass.wav`, `other.wav` | [demucs](https://github.com/facebookresearch/demucs) |
| 3. 채보용 변환 | 각 stem WAV | `BasicPitch` - WAV → MIDI 변환 | `part.mid` | [basic-pitch](https://github.com/spotify/basic-pitch) |
| 4. 악보 포맷 변환 | `part.mid` | `music21` - MIDI → MusicXML 변환 | `part.musicxml` | [music21](https://github.com/cuthbertLab/music21) |
| 5. 웹 악보 렌더링 | `part.musicxml` | `OSMD` 또는 `VexFlow` - 웹 악보 표시 | 웹 페이지에 악보 표시 (SVG/Canvas) | [OSMD](https://github.com/opensheetmusicdisplay/opensheetmusicdisplay), [VexFlow](https://github.com/0xfe/vexflow) |

## 마무리

참고할 수 있는 오픈소스들이 다양하게 있었고, 전체 구조상 조합은 충분히 가능해 보였습니다.  
다만, 각 도구의 정확도나 품질은 실제로 테스트해봐야 판단할 수 있는 부분이기 때문에, 빠른 테스트 및 프로토타입 개발을 통해 기능 완성도를 높여갈 계획입니다.

